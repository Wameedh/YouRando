<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YouRando - Account Settings</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>YouRando</h1>
      <nav>
        <a href="/dashboard" class="nav-link">Dashboard</a>
        <a href="/settings" class="nav-link active">Settings</a>
        <a href="/logout" class="nav-link">Logout</a>
      </nav>
    </header>

    <main>
      <section class="page-header">
        <h2>Account Settings</h2>
        <p>Manage your YouRando account and permissions</p>
      </section>

      <section class="settings-container">
        <div class="settings-card">
          <div class="settings-header">
            <h3>User Profile</h3>
          </div>
          <div class="settings-content">
            <div class="profile-details">
              <div class="profile-image">
                <% if (user.picture) { %>
                  <img src="<%= user.picture %>" alt="Profile picture">
                <% } else { %>
                  <div class="placeholder-image"><%= user.name.charAt(0) %></div>
                <% } %>
              </div>
              <div class="profile-info">
                <p><strong>Name:</strong> <%= user.name %></p>
                <p><strong>Email:</strong> <%= user.email %></p>
                <p><strong>Account Connected:</strong> <span class="badge success">Yes</span></p>
              </div>
            </div>
          </div>
        </div>

        <div class="settings-card">
          <div class="settings-header">
            <h3>YouTube Permissions</h3>
          </div>
          <div class="settings-content">
            <ul class="permissions-list">
              <li>
                <div class="permission-item">
                  <div class="permission-info">
                    <h4>Basic Profile</h4>
                    <p>Access to your Google profile information</p>
                  </div>
                  <div class="permission-status">
                    <span class="badge success">Enabled</span>
                  </div>
                </div>
              </li>
              <li>
                <div class="permission-item">
                  <div class="permission-info">
                    <h4>YouTube Subscriptions</h4>
                    <p>Access to view your YouTube channel subscriptions</p>
                  </div>
                  <div class="permission-status">
                    <span class="badge success">Enabled</span>
                  </div>
                </div>
              </li>
              <li>
                <div class="permission-item">
                  <div class="permission-info">
                    <h4>Watch History</h4>
                    <p>Access to your YouTube watch history for better recommendations</p>
                  </div>
                  <div class="permission-status">
                    <% if (hasHistoryAccess) { %>
                      <span class="badge success">Enabled</span>
                    <% } else { %>
                      <span class="badge warning">Pending Verification</span>
                      <div class="permission-note">
                        <p>This permission requires Google verification. Once approved, we'll update this feature.</p>
                      </div>
                    <% } %>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <div class="settings-card">
          <div class="settings-header">
            <h3>Recommendation Settings</h3>
          </div>
          <div class="settings-content">
            <div class="settings-options">
              <div class="setting-option">
                <div class="setting-details">
                  <h4>Discovery Level</h4>
                  <p>How different should recommendations be from your usual content</p>
                </div>
                <div class="setting-control">
                  <select id="discovery-level" name="discovery-level">
                    <option value="mild">Mild - Slightly different</option>
                    <option value="moderate" selected>Moderate - Noticeably different</option>
                    <option value="adventurous">Adventurous - Completely different</option>
                  </select>
                </div>
              </div>
              
              <div class="setting-option">
                <div class="setting-details">
                  <h4>Excluded Categories</h4>
                  <p>Categories you don't want to receive recommendations for</p>
                </div>
                <div class="setting-control">
                  <div class="checkbox-group">
                    <label>
                      <input type="checkbox" name="exclude-category" value="politics"> Politics
                    </label>
                    <label>
                      <input type="checkbox" name="exclude-category" value="gambling"> Gambling
                    </label>
                    <label>
                      <input type="checkbox" name="exclude-category" value="violent"> Violent Content
                    </label>
                  </div>
                </div>
              </div>
            </div>
            
            <div class="settings-actions">
              <button id="save-settings" class="btn primary">Save Settings</button>
            </div>
          </div>
        </div>

        <div class="settings-card">
          <div class="settings-header">
            <h3>Data & Privacy</h3>
          </div>
          <div class="settings-content">
            <div class="privacy-info">
              <p>YouRando only uses your data to provide personalized recommendations. We do not:</p>
              <ul>
                <li>Store your watch history on our servers</li>
                <li>Share your data with third parties</li>
                <li>Use your data for any purpose other than recommendations</li>
              </ul>
              
              <div class="data-controls">
                <button id="delete-data" class="btn danger">Delete All My Data</button>
                <button id="export-data" class="btn secondary">Export My Data</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>&copy; <%= new Date().getFullYear() %> YouRando. Powered by YouTube Intelligent Discovery.</p>
    </footer>
  </div>

  <script src="/js/settings.js"></script>
</body>
</html> 